FROM amazonlinux

RUN yum update -y
RUN yum groupinstall "Development Tools" -y
RUN yum install -y \
    gcc \
    bzip2-devel \
    libffi \
    openssl-devel \
    perl-core \
    zlib-devel \
    libxml2-devel \
    libxslt-devel \
    libffi-devel \
    libcffi-devel \
    wget \
    postgresql96-devel \
    sqlite


ENV PYTHON_VERSION 3.6.0

RUN cd /usr/src/ && \
    wget https://www.python.org/ftp/python/$PYTHON_VERSION/Python-$PYTHON_VERSION.tgz && \
    tar xzf Python-$PYTHON_VERSION.tgz && \
    cd Python-$PYTHON_VERSION && \
    ./configure --enable-optimizations && \
    make altinstall && \
    cd / && rm -rf /usr/src/Python-$PYTHON_VERSION.tgz && python3.6 -V

RUN pip3.6 install --upgrade pip && pip3.6 install awscli setuptools wheel

RUN mkdir /app
WORKDIR /app

CMD /bin/bash